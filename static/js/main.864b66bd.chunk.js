(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t){e.exports={IS_USER:"IS_USER",NEW_USER:"NEW_USER",INIT_CHATS:"INIT_CHATS",LOGOUT:"LOGOUT",MESSAGE_SEND:"MESSAGE_SEND",TYPING:"TYPING",P_MESSAGE_SEND:"P_MESSAGE_SEND",P_TYPING:"P_TYPING",CHECK_CHANNEL:"CHECK_CHANNEL",CREATE_CHANNEL:"CREATE_CHANNEL"}},225:function(e,t){e.exports="data:image/png;base64,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"},259:function(e,t,n){e.exports=n(457)},264:function(e,t,n){},290:function(e,t){},457:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(59),c=n.n(s),l=(n(264),n(21)),i=n(22),o=n(24),u=n(23),m=n(25),h=n(71),p=n(222),A=n.n(p),d=n(17),g=n.n(d),E=n(474),C=n(223),S=n(470),v=n(72),f=n(472),k=n(52),y=n(458),b=n(467),U=n(466),B=n(465),O=n(469),j=n(224),T=n.n(j),D=(n(297),n(225)),I=n.n(D),M=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={modal:!1,channelName:"",channelDescription:"",error:null},n.displayChannels=function(e){return e.map(function(e){return r.a.createElement(S.a.Item,{key:e.name,onClick:function(){return n.props.setActiveChannel(e.name)},active:n.props.activeChannel.name===e.name},"# ",e.name,e.msgCount>0&&r.a.createElement(v.a,{size:"mini",color:"red"}," ",e.msgCount," "))})},n.displayUsers=function(e){var t=n.props,a=t.user,s=t.setActivePChannel,c=t.pChats,l=t.activeChannel;return delete e[a.nickname],e=Object.assign({"You...":a},e),Object.keys(e).map(function(e){var t=c.filter(function(t){return t.name===e}),a=null;return t[0]&&t[0].name!==l.name&&t[0].msgCount>0&&(a=t[0].msgCount),r.a.createElement(S.a.Item,{key:e,onClick:"You..."===e?null:function(){return s(e)},active:n.props.activeChannel.name===e},"# ",e[0].toUpperCase()+e.slice(1),r.a.createElement(T.a,{style:{marginLeft:"10px"},size:4,color:"grey",distance:3,visible:!!t[0]&&t[0].isTyping}),a&&r.a.createElement(v.a,{size:"mini",color:"red"}," ",a," "))})},n.openModal=function(){return n.setState({modal:!0})},n.closeModal=function(){return n.setState({modal:!1,channelName:"",channelDescription:"",error:null})},n.handleChange=function(e){return n.setState(Object(C.a)({},e.target.name,e.target.value))},n.isFormValid=function(e){var t=e.channelDescription,a=e.channelName;return t&&a?(n.setState({error:null}),!0):(n.setState({error:"Both Name and Description are require "}),!1)},n.handleSubmit=function(){n.setState({error:null});var e=n.state,t=e.channelDescription,a=e.channelName;n.isFormValid(n.state)&&n.props.socket.emit(g.a.CHECK_CHANNEL,{channelName:a,channelDescription:t},n.checkChannel)},n.checkChannel=function(e){e?n.setState({error:'Channel "'.concat(n.state.channelName,'" name alredy take')}):n.closeModal()},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.users,a=e.chats,s=e.logout,c=this.state,l=c.modal,i=c.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{style:{background:"#cc2837",paddingTop:"2em"},vertical:!0,inverted:!0,fluid:!0,stackable:!0,size:"large"},r.a.createElement(f.a,{inverted:!0,as:"h3"},r.a.createElement("img",{src:I.a}),r.a.createElement(f.a.Content,null," Rocket Chat "),r.a.createElement(f.a.Subheader,null,"Login as :"," ",t.nickname[0].toUpperCase()+t.nickname.slice(1))),r.a.createElement(S.a.Menu,null,r.a.createElement(S.a.Item,{style:{paddingLeft:"0"}},r.a.createElement("span",{style:{fontSize:"1.2em"}},r.a.createElement(k.a,{name:"bullhorn"})," Channel lists"),r.a.createElement(k.a,{name:"add",onClick:this.openModal})),a[0]&&this.displayChannels(a)),r.a.createElement("br",null),r.a.createElement(S.a.Menu,null,r.a.createElement(S.a.Item,{style:{paddingLeft:"0"}},r.a.createElement("span",{style:{fontSize:"1.2em"}},r.a.createElement(k.a,{name:"address book"})," Online Users")),n&&a[0]&&this.displayUsers(n)),r.a.createElement("br",null),r.a.createElement(S.a.Menu,null,r.a.createElement(S.a.Item,{style:{paddingLeft:"0"}},r.a.createElement(y.a,{icon:!0,inverted:!0,labelPosition:"right",onClick:s},r.a.createElement(k.a,{name:"sign-out alternate"}),"LogOut")))),r.a.createElement(b.a,{open:l,size:"small"},r.a.createElement(f.a,{icon:"bullhorn",content:"Add new Channel"}),r.a.createElement(b.a.Content,null,r.a.createElement(U.a,null,r.a.createElement(U.a.Field,null,r.a.createElement(B.a,{placeholder:"Channel Name",name:"channelName",onChange:this.handleChange})),r.a.createElement(U.a.Field,null,r.a.createElement(B.a,{name:"channelDescription",placeholder:"Channel Description",onChange:this.handleChange}))),i&&r.a.createElement(O.a,{error:!0},r.a.createElement("h4",null,"Error"),this.state.error)),r.a.createElement(b.a.Actions,null,r.a.createElement(y.a,{color:"red",inverted:!0,onClick:this.closeModal},r.a.createElement(k.a,{name:"remove"})," Cancel"),r.a.createElement(y.a,{color:"green",inverted:!0,onClick:this.handleSubmit},r.a.createElement(k.a,{name:"checkmark"})," Add"))))}}]),t}(a.Component),F=n(473),L=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.activeChannel;return r.a.createElement(F.a,null,r.a.createElement(f.a,{as:"h2"},r.a.createElement(k.a,{name:"bullhorn"}),r.a.createElement(f.a.Content,null,e.name[0].toUpperCase()+e.name.slice(1)),r.a.createElement(f.a.Subheader,null,"Description : ",r.a.createElement("span",null,e.description[0].toUpperCase()+e.description.slice(1)))))}}]),t}(a.Component),w=n(468),N=n(248),Q=n.n(N),P=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.scrollDown()}},{key:"componentDidUpdate",value:function(e,t){this.scrollDown()}},{key:"scrollDown",value:function(){var e=this.refs.contaniner;e.scrollTop=e.scrollHeight}},{key:"render",value:function(){var e=this.props,t=e.messages,n=e.user,a=e.typingUser;return r.a.createElement(F.a,{style:{height:"calc( 100vh - 56px - 147px)"}},r.a.createElement("div",{ref:"contaniner",style:{height:"calc( 100vh - 56px - 147px - 35px)",overflowY:"auto"}},r.a.createElement("div",{style:{minHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",padding:".1em",paddingRight:".5em"}},t.length>0&&t.map(function(e){return r.a.createElement(w.a,{key:e.id,fluid:!0,style:{marginTop:"0px"}},r.a.createElement(w.a.Content,{style:{padding:"3px 10px"},textAlign:e.sender===n.nickname?"right":"left"},r.a.createElement("h3",null,e.message),e.sender[0].toUpperCase()+e.sender.slice(1)," Send @ ",Q()(e.timef).fromNow()))}),a&&a.map(function(e){return r.a.createElement("div",{key:e,className:"typing-user"},"".concat(e[0].toUpperCase()+e.slice(1)," is typing . . ."))}))))}}]),t}(a.Component),J=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={msg:""},n.handleChange=function(e){return n.setState({msg:e.target.value})},n.handleSubmit=function(){n.props.sendMsg(n.state.msg),n.setState({msg:""})},n.handleOnFocused=function(){return n.props.sendTyping(!0)},n.handleOnBlur=function(){return n.props.sendTyping(!1)},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.msg;return r.a.createElement(F.a,null,r.a.createElement(U.a,{onSubmit:e.length>0?this.handleSubmit:null},r.a.createElement(U.a.Input,{fluid:!0,name:"msg",value:e,placeholder:"Write your message",onChange:this.handleChange,onFocus:this.handleOnFocused,onBlur:this.handleOnBlur,icon:r.a.createElement(k.a,{name:"send",link:!0,circular:!0,inverted:!0,onClick:this.handleSubmit,disabled:e.length<1})})))}}]),t}(a.Component),R=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={chats:[],activeChannel:null},n.initChats=function(e){return n.updateChats(e,!0)},n.updateChats=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=n.state.chats,r=t?Object(h.a)(e):[].concat(Object(h.a)(a),[e]);n.setState({chats:r,activeChannel:t?e[0]:n.state.activeChannel})},n.addTyping=function(e){var t=e.channel,a=e.isTyping,r=e.sender,s=n.props.user,c=n.state.chats;r!==s.nickname&&(c.map(function(e){return e.name===t&&(a&&!e.typingUser.includes(r)?e.typingUser.push(r):!a&&e.typingUser.includes(r)&&(e.typingUser=e.typingUser.filter(function(e){return e!==r}))),null}),n.setState({chats:c}))},n.addPTyping=function(e){var t=e.channel,a=e.isTyping;console.log(t,a);var r=n.props.pChats;r.map(function(e){return e.name===t&&(e.isTyping=a),null}),n.setState({pChats:r})},n.addMessage=function(e){var t=e.channel,a=e.message,r=n.state,s=r.activeChannel,c=r.chats;c.map(function(e){return e.name===t&&(e.messages.push(a),s.name!==t&&e.msgCount++),null}),n.setState({chats:c})},n.addPMessage=function(e){var t=e.channel,a=e.message,r=n.state.activeChannel,s=n.props.pChats;s.map(function(e){return e.name===t&&(e.messages.push(a),r.name!==t&&e.msgCount++),null}),n.setState({pChats:s})},n.sendMsg=function(e){var t=n.props,a=t.socket,r=t.users,s=n.state.activeChannel;if(s.type){var c=r[s.name];a.emit(g.a.P_MESSAGE_SEND,{receiver:c,msg:e})}else a.emit(g.a.MESSAGE_SEND,{channel:s.name,msg:e})},n.sendTyping=function(e){var t=n.props,a=t.socket,r=t.users,s=n.state.activeChannel;if(s.type){var c=r[s.name];a.emit(g.a.P_TYPING,{receiver:c.socketId,isTyping:e})}a.emit(g.a.TYPING,{channel:s.name,isTyping:e})},n.setActiveChannel=function(e){var t=n.state.chats.filter(function(t){return t.name===e});t[0].msgCount=0,n.setState({activeChannel:t[0]})},n.setActivePChannel=function(e){var t=n.props.pChats.filter(function(t){return t.name===e});t[0].msgCount=0,n.setState({activeChannel:t[0]})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.socket;e.emit(g.a.INIT_CHATS,this.initChats),e.on(g.a.MESSAGE_SEND,this.addMessage),e.on(g.a.TYPING,this.addTyping),e.on(g.a.P_MESSAGE_SEND,this.addPMessage),e.on(g.a.P_TYPING,this.addPTyping),e.on(g.a.CREATE_CHANNEL,this.updateChats)}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.users,a=e.pChats,s=e.logout,c=e.socket,l=this.state,i=l.activeChannel,o=l.chats;return r.a.createElement(E.a,{style:{height:"100vh",margin:"0px"}},r.a.createElement(E.a.Column,{computer:4,tablet:4,mobile:6,style:{background:"#cc2837",height:"100%"}},r.a.createElement(M,{user:t,users:n,chats:o,socket:c,activeChannel:i,logout:s,setActivePChannel:this.setActivePChannel,setActiveChannel:this.setActiveChannel,pChats:a})),r.a.createElement(E.a.Column,{computer:12,tablet:12,mobile:10,style:{background:"#eee",height:"100%"}},i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{activeChannel:i}),r.a.createElement(P,{messages:i.messages,user:t,typingUser:i.typingUser}),r.a.createElement(J,{sendMsg:this.sendMsg,sendTyping:this.sendTyping}))))}}]),t}(a.Component),W=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={nickname:"",error:""},n.isvalid=function(e){return e.nickname},n.setUser=function(e){var t=e.user;e.isUser?n.setState({error:"This nickname already taken"}):(n.setState({error:""}),n.props.setUser(t))},n.handleChange=function(e){n.setState({nickname:e.target.value})},n.handleSubmit=function(){var e=n.props.socket,t=n.state.nickname;n.isvalid(n.state)?e.emit(g.a.IS_USER,t,n.setUser):n.setState({error:"Please input your nickname"})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{style:{height:"100vh",padding:"0px",margin:"0px"},textAlign:"center",verticalAlign:"middle"},r.a.createElement(E.a.Column,{computer:6,tablet:8,mobile:14},r.a.createElement(f.a,{as:"h2",icon:!0,textAlign:"center",color:"blue"},r.a.createElement(k.a,{name:"discussions"}),"Simple Chats."),r.a.createElement(U.a,{size:"small",onSubmit:this.handleSubmit},r.a.createElement(U.a.Input,{name:"nickname",type:"text",placeholder:"Your nickname !",onChange:this.handleChange,autoFocus:!0,icon:r.a.createElement(k.a,{name:"add user",link:!0,circular:!0,inverted:!0,onClick:this.handleSubmit})}),this.state.error&&r.a.createElement(O.a,{negative:!0},this.state.error))))}}]),t}(a.Component),x="http://localhost/",K=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={socket:null,user:null,users:{},pChats:[]},n.initSocket=function(){var e=A()(x);n.setState({socket:e}),e.on("connect",function(){return console.log("Connected")}),e.on(g.a.LOGOUT,n.setUsers(!1)),e.on(g.a.NEW_USER,n.setUsers(!0))},n.setUser=function(e){var t=n.state.socket;n.setState({user:e}),t.emit(g.a.NEW_USER,e)},n.setUsers=function(e){return function(t){var a=t.newUsers,r=t.outUser,s=n.state,c=s.user,l=s.pChats;if(e){var i=Object(h.a)(l),o=l.map(function(e){return e.name});c&&Object.keys(a).map(function(e){return e===c.nickname||o.includes(e)||i.push({name:e,description:"direct message",messages:[],isTyping:!1,msgCount:0,type:"Private"}),null}),n.setState({users:a,pChats:i})}else{var u=l.filter(function(e){return e.name!==r});n.setState({users:a,pChats:u})}}},n.logout=function(){n.state.socket.emit(g.a.LOGOUT),n.setState({user:null})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.initSocket()}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.users,a=e.pChats,s=e.socket;return t?r.a.createElement(R,{user:t,users:n,pChats:a,socket:s,logout:this.logout}):r.a.createElement(W,{socket:s,setUser:this.setUser})}}]),t}(a.Component),V=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(K,null)}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[259,1,2]]]);
//# sourceMappingURL=main.864b66bd.chunk.js.map